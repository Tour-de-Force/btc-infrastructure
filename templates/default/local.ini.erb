; CouchDB Configuration Settings

; Custom settings should be made in this file. They will override settings
; in default.ini, but unlike changes made to default.ini, this file won't be
; overwritten on server upgrade.

[httpd]
bind_address = <%= node.couchdb.bind_address %>
enable_cors = true

[cors]
headers = accept,authorization,content-type,origin,referer,x-csrf-token
methods = GET,PUT,POST,HEAD,DELETE
credentials = true
origins = *

[admins]
<% node.admin_users.each do |admin_user| -%>
<%= admin_user[:username] %> = <%= admin_user[:password] %>
<% end -%>

[daemons]
httpsd = {couch_httpd, start_link, [https]}

[ssl]
; These paths have to be entered in this non-standard way, so we hard-code
; them in the Chef script.
cert_file = C:/Certificates/server.cert
key_file = C:/Certificates/server.key
port = <%= node.couchdb.port %>
